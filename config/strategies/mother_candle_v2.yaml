# Mother Candle Breakout V2 - Research-Based Pure Price Action Strategy
#
# Based on established Inside Bar / Mother Candle trading concepts from:
# Nial Fuller, PriceAction.com, Subashish Pani (Power of Stocks),
# Al Brooks (Price Action trading).
#
# ALL params below are configurable - tune to your preference.
# Last Modified: 2026-02-13

strategy:
  name: "Mother Candle V2"
  version: "2.1"
  enabled: true
  mode: "daily"
  priority: 5
  description: >
    Research-based Mother Candle (Inside Bar) breakout strategy.
    Scans right-to-left on daily chart to find a large Mother Candle
    with 2+ baby candles strictly inside, confirmed by fresh breakout
    on the last candle with volume confirmation.
    Target and SL are configurable fixed percentages.

  params:
    # --- Pattern Detection ---
    max_lookback: 20              # Search up to 20 candles back for Mother
    min_baby_candles: 2           # Minimum baby candles (2+ per research)
    mother_range_multiplier: 1.5  # Mother range > 1.5x avg of prior 5 candles
    baby_tolerance_pct: 0.1       # 0.1% wick tolerance (near-zero for strict)

    # --- Volume Confirmation ---
    mother_vol_multiplier: 1.3    # Mother vol > 1.3x avg of prior 10 candles
    breakout_vol_multiplier: 1.2  # Breakout vol > 1.2x of 20-day avg volume

    # --- Target & Stop Loss (configurable) ---
    target_pct: 5.0               # Target = entry + 5%
    stop_loss_pct: 3.0            # Default SL = entry - 3%
    max_stop_loss_pct: 5.0        # Reject trade if SL > 5% from entry
    use_mother_low_sl: true       # Use Mother Low as SL if tighter than fixed %

    # --- Entry Buffer ---
    max_entry_buffer_pct: 2.0     # Reject if breakout close > 2% above Mother High

data:
  timeframe: "1D"
  lookback_bars: 200

filters:
  market_cap_min: 500   # Crores
  market_cap_max: null
  avg_volume_min: 200000
  price_min: 30
  price_max: 10000

indicators:
  - name: "Mother Candle Pattern"
    type: "price_pattern"
    params:
      min_babies: 2
      max_lookback: 20
    weight: 0.25

  - name: "Fresh Breakout"
    type: "price_pattern"
    params:
      condition: "last_close > mother_high AND no prior close > mother_high"
    weight: 0.25

  - name: "Mother Volume"
    type: "volume_analysis"
    params:
      condition: "mother_volume >= avg_vol_10 * 1.3"
    weight: 0.25

  - name: "Breakout Volume"
    type: "volume_analysis"
    params:
      condition: "breakout_volume >= avg_vol_20 * 1.2"
    weight: 0.25

signal_generation:
  min_conditions_met: 4
  confidence_threshold: 0.70
  signal_type: "BUY"

risk_management:
  stop_loss:
    type: "configurable"
    default_percent: 3.0
    max_percent: 5.0
    use_mother_low: true
  target:
    type: "fixed_percent"
    percent: 5.0
  position_size:
    type: "risk_based"
    risk_per_trade_percent: 1
  max_concurrent_positions: 5

backtesting:
  start_date: "2023-01-01"
  end_date: "2026-01-31"
  initial_capital: 100000
  commission_percent: 0.03
  slippage_percent: 0.10
  min_win_rate: 0.50
  min_sharpe_ratio: 1.2
  max_drawdown: 20

alerts:
  enabled: true
  priority: "HIGH"
